@using BestSportsStore.Web.Models.Orders
@model OrderViewModel

@{
    ViewBag.Title = "Order";
    int counter = 0;
}

@if (Model.ProductIds != null)
{
    <div class="panel-group text-center" style="margin-top: 50px;">
        <div class="panel panel-primary">
            <div class="panel-heading"><h1>Products</h1></div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-1">N</div>
                    <div class="col-md-2">Image</div>
                    <div class="col-md-2">Title</div>
                    <div class="col-md-1">Brand</div>
                    <div class="col-md-2">Size</div>
                    <div class="col-md-2">Quantity</div>
                    <div class="col-md-2">Price</div>
                </div>

                @foreach (var product in Model.Products)
                {
                    <div class="row">
                        <div class="col-md-1">@(++counter)</div>
                        <div class="col-md-2"><img src="@product.ImageUrl" style="width: 100px; height: 50px" /></div>
                        <div class="col-md-2">@product.Title</div>
                        <div class="col-md-1">@product.Brand.Name</div>
                        <div class="col-md-2">@product.SizeValues</div>
                        <div class="col-md-2">@product.Quantity</div>
                        <div class="col-md-2">@product.Price £</div>
                    </div>
                }

                <div class="row">
                    <div class="col-md-6"></div>
                    <div class="col-md-3"><h3>Total: @Model.TotalPrice £</h3></div>
                    <div class="col-md-3">
                        @using (Html.BeginForm("Order", "Buy", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()

                            @Html.HiddenFor(m => m.ProductSizes)
                            @Html.HiddenFor(m => m.ProductIds)
                            @Html.HiddenFor(m => m.ProductTitles)
                            @Html.HiddenFor(m => m.TotalPrice)
                            <button class="btn btn-danger" style="width: 100%; margin-top: 15px;">Order</button>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <h1 class="text-center">There are no products in your shopping cart!</h1>
}


